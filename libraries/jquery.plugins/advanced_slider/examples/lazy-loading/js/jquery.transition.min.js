(function(b){function s(){setTimeout(v,0);return l=b.now()}function v(){l=void 0}var q={},i,p,w=/^(?:toggle|show|hide)$/,x=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,t,l,u=document.createElement("div").style;b.support.transition="MozTransition"in u?"MozTransition":"WebkitTransition"in u?"WebkitTransition":!1;b.fn.extend({animate:function(d,a,e,k){function c(){!1===g.queue&&b._mark(this);var f=b.extend({},g),a=1===this.nodeType,k=a&&b(this).is(":hidden"),c,h,e,j,m;m=b.cssProps;var l=!f.step&&b.support.transition, r=[],n,o;f.animatedProperties={};f.transition={};for(e in d)if(c=b.camelCase(e),e!==c&&(d[c]=d[e],delete d[e]),(h=b.cssHooks[c])&&"expand"in h)for(e in j=h.expand(d[c]),delete d[c],j)e in d||(d[e]=j[e]);for(c in d){h=d[c];b.isArray(h)?(j=f.animatedProperties[c]=h[1],h=d[c]=h[0]):j=f.animatedProperties[c]=f.specialEasing&&f.specialEasing[c]||f.easing||"swing";if(j=l&&a&&0<f.duration&&c.indexOf("scroll")&&("swing"==j?"ease":"linear"==j?j:!1))n=m[c]||c,o=n.replace(/([A-Z])/g,"-$1").toLowerCase(),j=o+ " "+f.duration+"ms "+j,f.transition[c]={lower:o,real:n},r.push(j);if("hide"===h&&k||"show"===h&&!k)return f.complete.call(this);if(a&&("height"===c||"width"===c))if(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===b.css(this,"display")&&"none"===b.css(this,"float")){if(!(h=!b.support.inlineBlockNeedsLayout)){h=this.nodeName;if(!q[h]){j=document.body;n=b("<"+h+">").appendTo(j);o=n.css("display");n.remove();if("none"===o||""===o){i||(i=document.createElement("iframe"), i.frameBorder=i.width=i.height=0);j.appendChild(i);if(!p||!i.createElement)p=(i.contentWindow||i.contentDocument).document,p.write(("CSS1Compat"===document.compatMode?"<!doctype html>":"")+"<html><body>"),p.close();n=p.createElement(h);p.body.appendChild(n);o=b.css(n,"display");j.removeChild(i)}q[h]=o}h="inline"===q[h]}h?this.style.display="inline-block":this.style.zoom=1}}null!=f.overflow&&(this.style.overflow="hidden");for(e in d)if(a=new b.fx(this,f,e),h=d[e],w.test(h))if(c=b._data(this,"toggle"+ e)||("toggle"===h?k?"show":"hide":0))b._data(this,"toggle"+e,"show"===c?"hide":"show"),a[c]();else a[h]();else c=x.exec(h),m=a.cur(),c?(h=parseFloat(c[2]),j=c[3]||(b.cssNumber[e]?"":"px"),"px"!==j&&(b.style(this,e,(h||1)+j),m*=(h||1)/a.cur(),b.style(this,e,m+j)),c[1]&&(h=("-="===c[1]?-1:1)*h+m),a.custom(m,h,j)):a.custom(m,h,"");if(l&&r.length)for(e in j=this.style[l],this.style[l]=r.join()+(j?","+j:""),f.transition)b.style.apply(null,f.transition[e].styleToSet);return!0}var g=b.speed(a,e,k);if(b.isEmptyObject(d))return this.each(g.complete, [!1]);d=b.extend({},d);return!1===g.queue?this.each(c):this.queue(g.queue,c)},stop:function(d,a,e){"string"!==typeof d&&(e=a,a=d,d=void 0);a&&!1!==d&&this.queue(d||"fx",[]);return this.each(function(){var a,c=!1,g=b.timers,f=b._data(this),y=b.support.transition;e||b._unmark(!0,this);if(null==d)for(a in f){if(f[a]&&f[a].stop&&a.indexOf(".run")===a.length-4){var i=f[a];b.removeData(this,a,!0);i.stop(e)}}else if(f[a=d+".run"]&&f[a].stop)f=f[a],b.removeData(this,a,!0),f.stop(e);for(a=g.length;a--;)if(g[a].elem=== this&&(null==d||g[a].queue===d)){if(e||y)g[a](e);e||g[a].saveState();c=!0;g.splice(a,1)}(!e||!c)&&b.dequeue(this,d)})}});b.extend(b.fx.prototype,{cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var d,a=b.css(this.elem,this.prop);return isNaN(d=parseFloat(a))?!a||"auto"===a?0:a:d},custom:function(d,a,e){function k(a){return c.step(a)}var c=this,g=b.fx,f=c.options.transition,i=this.prop;this.startTime=l||s();this.end=a;this.now= this.start=d;this.pos=this.state=0;this.unit=e||this.unit||(b.cssNumber[i]?"":"px");k.queue=this.options.queue;k.elem=this.elem;k.saveState=function(){c.options.hide&&void 0===b._data(c.elem,"fxshow"+c.prop)&&b._data(c.elem,"fxshow"+c.prop,c.start)};(k.transition=f[i])?(b.timers.push(k),"transform"!=i&&(c.elem.style[f[i].real]=b.css(c.elem,i)),f[i].styleToSet=[c.elem,i,a+c.unit],f[i].timeout=setTimeout(function(){b.timers.splice(b.timers.indexOf(k),1);c.step(!0)},c.options.duration+15)):k()&&b.timers.push(k)&& !t&&(t=setInterval(g.tick,g.interval))},step:function(d){var a,e=l||s(),i=!0,c=this.elem,g=this.options,f=g.transition[this.prop];if(f||d||e>=g.duration+this.startTime){f?(clearTimeout(f.timeout),d||(this.elem.style[f.real]=b.css(this.elem,f.real))):(this.now=this.end,this.pos=this.state=1,this.update());g.animatedProperties[this.prop]=!0;for(a in g.animatedProperties)!0!==g.animatedProperties[a]&&(i=!1);if(i){null!=g.overflow&&!b.support.shrinkWrapBlocks&&b.each(["","X","Y"],function(a,b){c.style["overflow"+ b]=g.overflow[a]});g.hide&&b(c).hide();if(g.hide||g.show)for(a in g.animatedProperties)b.style(c,a,g.orig[a]),b.removeData(c,"fxshow"+a,!0),b.removeData(c,"toggle"+a,!0);if(d=1===c.nodeType&&b.support.transition){f=","+c.style[d];for(a in g.transition)f=f.split(g.transition[a].lower).join("_");c.style[d]=f.replace(/, ?_[^,]*/g,"").substr(1)}if(a=g.complete)g.complete=!1,a.call(c)}return!1}Infinity==g.duration?this.now=e:(a=e-this.startTime,this.state=a/g.duration,this.pos=b.easing[g.animatedProperties[this.prop]](this.state, a,0,1,g.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}});b.extend(b.fx,{tick:function(){for(var d,a=b.timers,e=0;e<a.length;e++)d=a[e],!d.transition&&!d()&&a[e]===d&&a.splice(e--,1);a.length||b.fx.stop()}})})(jQuery);