(function(i){function sb(Sa,T){function X(){w=u.find(".slides");if(b.settings.shuffle){var a=w.children().sort(function(){return 0.5-Math.random()});w.empty().append(a)}w.children().each(function(d){var e={};e.properties={};A.push(i(this));if(i(this).data("image")){e.lazyImage=i(this).data("image");e.lazyImageLoaded=false}for(var g=0;g<i(this).children().length;g++){var h=i(this).children()[g];if(i(h).hasClass("thumbnail")||i(h).is("a")&&i(h).children("img.thumbnail").length)e.thumbnail=i(h).clone();
else e[i(h).attr("class")]=i(h)}if(!e.caption&&i(this).find(".caption").length)e.caption=i(this).find(".caption");if(!e.html&&i(this).find(".html").length)e.html=i(this).find(".html");if(b.settings.xmlSource){e.properties=z[d].properties;z[d]=e}else{for(g=0;g<Ba.length;g++){h=Ba[g];var c;if(b.settings.slideProperties)if(b.settings.slideProperties[d])c=b.settings.slideProperties[d][h];e.properties[h]||(e.properties[h]=c==undefined?b.settings[h]:c)}z.push(e)}});w.find("img.thumbnail").parent("a").remove();
w.find("img.thumbnail").remove();G=z.length;tb()}function tb(){u.addClass(b.settings.skin).css({width:b.settings.width,height:b.settings.height}).focus(function(){sa=true;u.addClass("focus")}).blur(function(){sa=false;u.hasClass("focus")&&u.removeClass("focus")});J=i('<div class="slider-main"></div>').appendTo(u);if(i.browser.mozilla)u.addClass("mozilla");else if(i.browser.webkit)u.addClass("webkit");else if(i.browser.opera)u.addClass("opera");else if(i.browser.msie)if(parseInt(i.browser.version)==
6)u.addClass("ie6");else if(parseInt(i.browser.version)==7)u.addClass("ie7");else if(parseInt(i.browser.version)==8)u.addClass("ie8");else parseInt(i.browser.version)==9&&u.addClass("ie9");n=i('<div class="slide-wrapper"></div>').append(w).appendTo(J).hover(function(){Y=true;if(b.settings.timerAnimation&&b.settings.timerToggle&&M!="stopped"&&!K){var e=u.find(".timer-animation");y?e.css("filter",""):e.stop().animate({opacity:1},b.settings.timerFadeDuration)}if(ta&&b.settings.lightboxIconToggle){e=
n.find(".lightbox-icon");y?e.css("filter",""):e.stop().animate({opacity:1},b.settings.lightboxIconFadeDuration)}b.settings.pauseSlideshowOnHover&&!I&&fa();ga&&b.settings.captionToggle&&bb();if(b.settings.slideArrows&&b.settings.slideArrowsToggle)y?u.find(".slide-arrows a").stop().show():u.find(".slide-arrows a").stop().animate({opacity:1},b.settings.slideArrowsShowDuration);if(b.settings.slideshowControls&&b.settings.slideshowControlsToggle)y?u.find(".slideshow-controls").stop().show():u.find(".slideshow-controls").stop().animate({opacity:1},
b.settings.slideshowControlsShowDuration)},function(){Y=false;if(b.settings.timerAnimation&&b.settings.timerToggle&&M!="stopped"&&!K){var e=u.find(".timer-animation");y?e.css("opacity",0):e.stop().animate({opacity:0},b.settings.timerFadeDuration)}if(ta&&b.settings.lightboxIconToggle){e=n.find(".lightbox-icon");y?e.css("opacity",0):e.stop().animate({opacity:0},b.settings.lightboxIconFadeDuration)}b.settings.pauseSlideshowOnHover&&!ma&&!Ta&&!I&&na();ga&&b.settings.captionToggle&&Ua();if(b.settings.slideArrows&&
b.settings.slideArrowsToggle)y?u.find(".slide-arrows a").stop().hide():u.find(".slide-arrows a").stop().animate({opacity:0},b.settings.slideArrowsHideDuration);if(b.settings.slideshowControls&&b.settings.slideshowControlsToggle)y?u.find(".slideshow-controls").stop().hide():u.find(".slideshow-controls").stop().animate({opacity:0},b.settings.slideshowControlsHideDuration)});b.settings.effectType=="swipe"&&i('<div class="swipeable-container"></div>').appendTo(n).append(w);w.find(".slide").each(function(e){var g=
i(this),h=g.find("img.image");g=g.find(".caption");var c=z[e],f=c.properties;if(h.length){h.data("index",e);c.imagePath=h.attr("src")}if(g.length){e=parseFloat(f.captionBackgroundOpacity);h=f.captionBackgroundColor;f=i('<div class="caption-container"></div>').appendTo(g.parent());f=i('<div class="wrapper"></div>').appendTo(f);i('<div class="background"></div>').css({opacity:e,"background-color":h}).appendTo(f);g.appendTo(f)}});w.find(".html video.video").each(function(){var e=i(this),g=e.parent();
if(navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPod/i)!=null||navigator.userAgent.match(/iPhone/i)!=null){var h=e[0].outerHTML;e.remove();g.html(h);e=g.find("video");e[0].load()}e.hasClass("video-js")&&VideoJS(e.attr("id"),e.data("video"))});w.find(".html video.sublime-video").length&&window.sublimevideo&&sublimevideo.ready(function(){w.find(".html video.sublime-video").each(function(){sublimevideo.prepare(i(this).attr("id"))})});oa=b.settings.slideStart;var a=window.location.hash;
if(a){a=a.substring(1);var d=a.split("-");d=parseInt(d.pop());a=a.replace("-"+d,"");if(u.attr("id")==a&&d>=0&&d<=G-1)oa=d}b.settings.slideArrows&&ub();b.settings.slideButtons&&vb();b.settings.shadow&&wb();if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller")xb();b.settings.slideshowControls&&yb();b.settings.keyboardNavigation&&zb();b.settings.lightbox&&u.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:false,overlay_gallery:false,theme:b.settings.lightboxTheme,
opacity:b.settings.lightboxOpacity,openLightbox:function(){if(!ma){ma=true;u.blur();I||fa()}},callback:function(){if(ma){ma=false;u.focus();I||na()}}});ha="none";Va();pa(oa);i(window).resize(Va)}function Va(){var a=0,d=0;if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller")if(b.settings.thumbnailOrientation=="horizontal")J.css("height",u.height()-t.outerHeight(true));else b.settings.thumbnailOrientation=="vertical"&&J.css("width",u.width()-t.outerWidth(true));if(b.settings.shadow){var e=
J.find(".shadow");if(J.width()>=400){e.css("display","block");var g=e.find(".shadow-middle"),h=e.find(".shadow-left").width()+e.find(".shadow-right").width(),c=parseInt(e.css("height"))+parseInt(e.css("margin-top"));e.css("width",J.width());g.css("width",e.width()-h);a=c>a?c:a}else e.css("display","none")}if(b.settings.slideButtons){e=J.find(".slide-buttons");g=e.find("buttons-middle");h=g.find("buttons-inner");c=parseInt(e.css("height"))+parseInt(e.css("margin-top"));if(b.settings.slideButtonsContainerCenter){var f=
(J.width()-e.width())/2;e.css("left",f)}if(b.settings.slideButtonsCenter){f=(g.width()-h.width())/2;h.css("left",f)}a=c>a?c:a}cb=a;a+=parseInt(n.css("border-top-width"))+parseInt(n.css("border-bottom-width"));d+=parseInt(n.css("border-left-width"))+parseInt(n.css("border-right-width"));n.css({height:J.height()-a,width:J.width()-d});db=n.width();eb=n.height();w.find(".slide").each(function(j){var r=i(this),l=r.find("img.image"),o=z[j].properties.alignType;if(l.length)if(l[0].complete||l[0].readyState==
"complete")$(l,o);else{l.css("visibility","hidden");l.load(function(){l.css("visibility","");$(l,o)})}if(b.settings.effectType=="swipe"){var s=p!=-1?p:oa;if(b.settings.swipeOrientation=="horizontal"){w.css("left",-s*(n.width()+b.settings.swipeSlideDistance));r.css("left",j*(n.width()+b.settings.swipeSlideDistance))}else if(b.settings.swipeOrientation=="vertical"){w.css("top",-s*(n.height()+b.settings.swipeSlideDistance));r.css("top",j*(n.height()+b.settings.swipeSlideDistance))}}});if((b.settings.thumbnailType==
"tooltipAndScroller"||b.settings.thumbnailType=="scroller")&&b.settings.scaleType!="proportionalFit"){Wa();ua();b.settings.thumbnailMouseScroll&&va()}a={type:"doSliderLayout"};i.isFunction(b.settings.doSliderLayout)&&b.settings.doSliderLayout.call(this,a)}function $(a,d){if(!a.data("init")){a.data("init",true);a.data("width",a.width());a.data("height",a.height());a.data("state","loaded");b.settings.allowScaleUp||a.css({maxWidth:a.data("width"),maxHeight:a.data("height")})}switch(b.settings.scaleType){case "exactFit":a.css({width:"100%",
height:"100%"});break;case "insideFit":a.width()/a.height()>=n.width()/n.height()?a.css({width:"100%",height:"auto"}):a.css({width:"auto",height:"100%"});break;case "outsideFit":a.width()/a.height()<=n.width()/n.height()?a.css({width:"100%",height:"auto"}):a.css({width:"auto",height:"100%"});break;case "proportionalFit":if(a.data("index")==p&&(a[0].complete||a[0].readyState=="complete")){n.css("width",db);n.css("height",eb);a.css({width:"100%",height:"auto"});n.css("height",a.height());J.css("height",
n.outerHeight(true)+cb);if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller"){b.settings.thumbnailOrientation=="horizontal"?u.css("height",J.height()+t.outerHeight(true)):u.css("height",J.height());Wa();ua();b.settings.thumbnailMouseScroll&&va()}else u.css("height",J.height());if(C!=-1){var e=A[C].find("img.image"),g=z[C].properties.alignType;e.length&&fb(e,g)}}}fb(a,d)}function fb(a,d){var e=a.width(),g=a.height();switch(d){case "leftTop":a.css({left:0,top:0});
break;case "leftCenter":a.css({left:0,top:"50%","margin-top":-g*0.5});break;case "leftBottom":a.css({left:0,bottom:0});break;case "centerTop":a.css({left:"50%",top:0,"margin-left":-e*0.5});break;case "centerCenter":a.css({left:"50%",top:"50%","margin-left":-e*0.5,"margin-top":-g*0.5});break;case "centerBottom":a.css({left:"50%",bottom:0,"margin-left":-e*0.5});break;case "rightTop":a.css({right:0,top:0});break;case "rightCenter":a.css({right:0,top:"50%","margin-top":-g*0.5});break;case "rightBottom":a.css({right:0,
bottom:0});break;case "default":a.css({left:"50%",top:"50%","margin-left":-e*0.5,"margin-top":-g*0.5})}}function ub(){var a=i('<div class="slide-arrows"></div>').appendTo(n),d=i('<a class="previous"></a>').appendTo(a).click(function(){ha="previousButton";ia()});a=i('<a class="next"></a>').appendTo(a).click(function(){ha="nextButton";aa()});if(b.settings.slideArrowsToggle)if(y){d.hide();a.hide()}else{d.css("opacity",0);a.css("opacity",0)}}function yb(){var a=i('<div class="slideshow-controls"></div>').appendTo(n),
d=b.settings.slideshow?"pause":"play";M=b.settings.slideshow?"playing":"stopped";a.addClass(d).click(function(){if(M=="playing"||M=="paused")Ca();else M=="stopped"&&gb()});if(b.settings.slideshowControlsToggle)y?a.hide():a.css("opacity",0)}function vb(){var a=G,d=i('<div class="slide-buttons"></div>').appendTo(J);i('<div class="left"></div>').appendTo(d);var e=i('<div class="middle"></div>').appendTo(d);i('<div class="right"></div>').appendTo(d);e=i('<div class="buttons-inner"></div>').appendTo(e);
for(var g=0;g<a;g++){var h=i('<a rel="'+g+'"></a>').appendTo(e);b.settings.slideButtonsNumber&&i('<div class="number">'+(g+1)+"</div>").appendTo(h);h.hover(function(){var c=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).addClass("over");if(z[c].properties.thumbnailType=="tooltip"||z[c].properties.thumbnailType=="tooltipAndScroller")Ab(c)},function(){var c=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).removeClass("over");if(z[c].properties.thumbnailType=="tooltip"||
z[c].properties.thumbnailType=="tooltipAndScroller")Bb()});h.click(function(){ha="button";pa(parseInt(i(this).attr("rel")))})}if(b.settings.slideButtonsToggle){y?d.hide():d.css("opacity",0);u.hover(function(){y?d.show():d.stop().animate({opacity:1},b.settings.slideButtonsShowDuration)},function(){y?d.hide():d.stop().animate({opacity:0},b.settings.slideButtonsHideDuration)})}}function zb(){i(document).keydown(function(a){if(a.which==37&&(b.settings.keyboardNavigationOnFocusOnly&&sa||!b.settings.keyboardNavigationOnFocusOnly))ia();
else if(a.which==39&&(b.settings.keyboardNavigationOnFocusOnly&&sa||!b.settings.keyboardNavigationOnFocusOnly))aa();else a.which==13&&sa&&A[p].children("a").length&&A[p].children("a").not(".thumbnail")[0].click()})}function wb(){var a=i('<div class="shadow"></div>').appendTo(J);i('<div class="shadow-left"></div>').appendTo(a);i('<div class="shadow-middle"></div>').appendTo(a);i('<div class="shadow-right"></div>').appendTo(a)}function Ab(a){if(z[a].thumbnail){var d=z[a].thumbnail.is("a")?z[a].thumbnail.find("img"):
z[a].thumbnail,e=d.attr("src"),g=d.attr("alt");d=i('<div class="thumbnail-wrapper"></div>').appendTo(u.find(".buttons-inner"));var h=i('<div class="thumbnail"></div>').css({width:b.settings.thumbnailWidth,height:b.settings.thumbnailHeight}).appendTo(d);d.css({width:h.outerWidth(),height:h.outerHeight()});if(g){var c=i('<div class="caption"></div>').appendTo(h),f=i('<div class="background"></div>').appendTo(c);g=i('<div class="content">'+g+"</div>").appendTo(c);f=f.css("opacity");c.css("height",g.outerHeight(true));
b.settings.thumbnailCaptionPosition=="top"?c.css("top",0):c.css("bottom",0)}c=u.find(".buttons-inner a").eq(a);a=c.position().left-(d.outerWidth(true)-c.width())/2;c=c.position().top-d.outerHeight(true);y&&d.find("*").not(".background").css("filter","inherit");d.css({left:a,top:c-b.settings.thumbnailSlideAmount,opacity:0});i("<img/>").load(function(){h.css("background-image","url("+e+")")}).attr("src",e);if(y){d.animate({top:c,opacity:1},b.settings.thumbnailSlideDuration,b.settings.thumbnailSlideEasing);
d.find(".caption .background").animate({opacity:f},b.settings.thumbnailSlideDuration)}else d.animate({top:c,opacity:1},b.settings.thumbnailSlideDuration,b.settings.thumbnailSlideEasing)}}function Bb(){var a=u.find(".buttons-inner .thumbnail-wrapper");if(a.length){var d=a.find(".background");y&&d.animate({opacity:0},b.settings.thumbnailSlideDuration);a.animate({top:a.position().top-b.settings.thumbnailSlideAmount,opacity:0},b.settings.thumbnailSlideDuration,b.settings.thumbnailSlideEasing,function(){a.remove()})}}
function pa(a){if(a!=p){if(K)if(b.settings.overrideTransition)switch(hb){case "slide":A[p].stop(false,true);break;case "fade":A[p].stop(false,true);C!=-1&&A[C].stop(false,true);break;case "slice":ja.find(".slice").each(function(){clearTimeout(i(this).data("delay"));i(this).stop().remove()});ja.remove();C!=-1&&A[C].css({visibility:""});A[p].css("visibility","visible");L()}else if(b.settings.effectType!="swipe")return;b.settings.slideshow&&Da();if(ta){ta=false;var d=n.find(".lightbox-icon");y?d.remove():
d.stop().animate({opacity:0},b.settings.lightboxIconFadeDuration,function(){d.remove()})}if(wa){wa.leaveVideo();Ta=false}K=true;C=p;p=a;if(p!=ba)if(ga&&b.settings.effectType!="swipe"){ga=false;Ua();xa&&clearTimeout(xa)}var e=z[a],g=A[a].find("img.image");if(e.lazyImage&&!e.lazyImageLoaded){var h=i('<img class="image"/>').attr("src",z[a].lazyImage);g.attr("alt")&&h.attr("alt",g.attr("alt"));g.attr("title")&&h.attr("title",g.attr("title"));h.data("index",a);if(g.length){h.prependTo(g.parent());g.remove()}else h.prependTo(A[a]);
g=h;e.imagePath=g.attr("src");e.lazyImageLoaded=true}if(g.length&&(g.data("state")!="loaded"||b.settings.scaleType=="proportionalFit")){var c=e.properties.alignType;if(b.settings.effectType=="swipe"){g.css("visibility","hidden");if(g[0].complete||g[0].readyState=="complete"){g.css("visibility","");$(g,c)}else{ib(A[g.data("index")]);g.load(function(){g.css("visibility","");$(g,c);Ea(A[g.data("index")])}).error(function(){Ea(A[g.data("index")]);K=false})}Fa()}else if(g[0].complete||g[0].readyState==
"complete"){$(g,c);Fa()}else{ib(n);g.load(function(){$(g,c);Ea(n);Fa()}).error(function(){Ea(n);K=false})}}else Fa();if(b.settings.slideButtons){h=u.find(".buttons-inner");h.find(".select").removeClass("select");h.find("a").eq(a).attr("class","select")}if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller"){t.find(".thumbnail.select").removeClass("select");t.find(".thumbnail[data-index="+a+"]").removeClass("over").addClass("select");if(b.settings.thumbnailSync){a=
Math.floor(a/(U*F));a!=N&&ca(a)}}e={type:"slideOpen",index:p,data:e};i.isFunction(b.settings.slideOpen)&&b.settings.slideOpen.call(this,e)}}function aa(){pa(p==G-1?0:p+1)}function ia(){pa(p==0?G-1:p-1)}function Cb(a){var d=[];if(!(G<=1)){if(G==2)if(a==0)d.push(1);else a==1&&d.push(0);else if(G>=3)d.push(a==0?G-1:a-1,a==G-1?0:a+1);for(a=0;a<d.length;a++){var e=d[a],g=z[e];if(g.lazyImage&&!g.lazyImageLoaded){var h=A[e].find("img.image"),c=i('<img class="image"/>').attr("src",g.lazyImage),f=g.properties.alignType;
h.attr("alt")&&c.attr("alt",h.attr("alt"));h.attr("title")&&c.attr("title",h.attr("title"));c.data("index",e);if(h.length){c.prependTo(h.parent());h.remove()}else c.prependTo(A[e]);h=c;g.lazyImageLoaded=true;g.imagePath=h.attr("src");h[0].complete||h[0].readyState=="complete"?$(h,f):h.load(function(){$(h,f)})}}}}function ib(a){if(!a.find(".preloader").length){var d=i('<div class="preloader"></div>').hide().appendTo(a),e=(a.outerWidth(true)-d.width())*0.5;a=(a.outerHeight(true)-d.height())*0.5;d.fadeIn(300);
d.css({left:e,top:a})}}function Ea(a){a.find(".preloader").stop().remove()}function ka(a){a.preventDefault()}function Fa(){var a=z[p].properties.effectType;if(!b.settings.initialEffect&&jb){a="none";jb=false}if(b.settings.effectType=="swipe")a="swipe";else if(a=="random")a=qa(["slice","slide","fade"]);hb=a;var d={type:"transitionStart",index:p,data:z[p]};i.isFunction(b.settings.transitionStart)&&b.settings.transitionStart.call(this,d);switch(a){case "none":C!=-1&&A[C].css("visibility","");A[p].css("visibility",
"visible");L();break;case "fade":kb();break;case "slide":Db();break;case "swipe":Eb();break;case "slice":Fb();break;default:kb()}}function kb(){var a=z[p].properties,d=A[p],e,g=parseInt(a.fadeInDuration),h=a.fadeInEasing,c=parseInt(a.fadeOutDuration);a=a.fadeOutEasing;y&&d.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});d.css({visibility:"visible",opacity:0}).animate({opacity:1},g,h,function(){d.css({opacity:""});
y&&d.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")});L()});if(C!=-1){e=A[C];y&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});e.animate({opacity:0},c,a,function(){e.css({visibility:"",opacity:""});y&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==
1||i(this).css("filter","")})})}}function Db(){var a=z[p].properties,d=A[p],e,g=a.slideDirection,h=parseInt(a.slideDuration),c=a.slideEasing;a=a.slideLoop;if(C!=-1)e=A[C];if(g=="random")g=qa(["autoHorizontal","autoVertical","rightToLeft","leftToRight","topToBottom","bottomToTop"]);d.css("visibility","visible");var f={},j,r;switch(g){case "autoHorizontal":j="left";r=p==0&&C==G-1&&a?n.width():p==G-1&&C==0&&a?-n.width():p>C?n.width():-n.width();break;case "autoVertical":j="top";r=p==0&&C==G-1&&a?n.height():
p==G-1&&C==0&&a?-n.height():p>C?n.height():-n.height();break;case "rightToLeft":j="left";r=n.width();break;case "leftToRight":j="left";r=-n.width();break;case "topToBottom":j="top";r=-n.height();break;case "bottomToTop":j="top";r=n.height();break;default:j="left";r=p>C?n.width():-n.width()}d.css(j,r);f[j]=0;d.animate(f,{duration:h,easing:c,complete:function(){d.css({left:"",top:""});C!=-1&&e.css({visibility:"",left:"",top:""});L()},step:function(l){e&&e.css(j,l-r)}})}function Eb(){if(C==-1){w.css("overflow",
"visible").bind("dragstart",ka).find(".slide").each(function(h){var c=i(this);if(b.settings.swipeOrientation=="horizontal")c.css({top:0,left:h*(n.width()+b.settings.swipeSlideDistance),visibility:"visible"});else b.settings.swipeOrientation=="vertical"&&c.css({top:h*(n.height()+b.settings.swipeSlideDistance),left:0,visibility:"visible"})});b.settings.swipeGrabCursor&&w.addClass("grab");var a,d,e=false,g=false;if(b.settings.swipeTouchDrag&&"ontouchstart"in window)g=e=true;if(!g&&b.settings.swipeMouseDrag)e=
true;if(b.settings.swipeOrientation=="horizontal"){w.css("left",-oa*(n.width()+b.settings.swipeSlideDistance));e&&w.swipe({threshold:b.settings.swipeThreshold,allowPageScroll:"vertical",swipeStatus:function(h,c,f,j){if(c=="start"){a=parseInt(w.css("left"));w.is(":animated")&&w.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",ka).bind("click",ka);h.has("rel")&&h.unbind("click.prettyphoto")}b.settings.swipeGrabCursor&&w.removeClass("grab").addClass("grabbing")}else if(c=="move"){d=p==
G-1&&f=="left"||p==0&&f=="right"?0.2:1;if(f=="left")w.css("left",a-j*d);else f=="right"&&w.css("left",a+j*d)}else if(c=="cancel"){w.stop().animate({left:-p*(n.width()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",ka);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},
swipeLeft:function(){p<G-1?aa():w.stop().animate({left:-p*(n.width()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")},swipeRight:function(){p>0?ia():w.stop().animate({left:-p*(n.width()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")}})}else if(b.settings.swipeOrientation==
"vertical"){w.css("top",-oa*(n.height()+b.settings.swipeSlideDistance));e&&w.swipe({threshold:b.settings.swipeThreshold,allowPageScroll:"horizontal",swipeStatus:function(h,c,f,j){if(c=="start"){a=parseInt(w.css("top"));w.is(":animated")&&w.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",ka).bind("click",ka);h.has("rel")&&h.unbind("click.prettyphoto")}b.settings.swipeGrabCursor&&w.removeClass("grab").addClass("grabbing")}else if(c=="move"){d=p==G-1&&f=="up"||p==0&&f=="down"?0.2:1;if(f==
"up")w.css("top",a-j*d);else f=="down"&&w.css("top",a+j*d)}else if(c=="cancel"){w.stop().animate({top:-p*(n.height()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",ka);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},swipeUp:function(){p<G-1?aa():w.stop().animate({top:-p*
(n.height()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")},swipeDown:function(){p>0?ia():w.stop().animate({top:-p*(n.height()+b.settings.swipeSlideDistance)},b.settings.swipeBackDuration,b.settings.swipeEasing,function(){K&&L()});b.settings.swipeGrabCursor&&w.removeClass("grabbing").addClass("grab")}})}L()}else if(b.settings.swipeOrientation=="horizontal")w.stop().animate({left:-p*
(n.width()+b.settings.swipeSlideDistance)},b.settings.swipeDuration,b.settings.swipeEasing,function(){if(i.support.transition&&!w.is(":animated"))L();else i.support.transition||L()});else b.settings.swipeOrientation=="vertical"&&w.stop().animate({top:-p*(n.height()+b.settings.swipeSlideDistance)},b.settings.swipeDuration,b.settings.swipeEasing,function(){if(i.support.transition&&!w.is(":animated"))L();else i.support.transition||L()})}function Fb(){var a=z[p],d=a.properties,e=d.sliceEffectType,g=d.htmlDuringTransition,
h=parseInt(d.horizontalSlices),c=parseInt(d.verticalSlices),f=d.slicePattern,j=d.slicePoint,r=d.sliceStartPosition,l=parseFloat(d.sliceStartRatio),o=parseInt(d.sliceDuration),s=d.sliceEasing,k=parseInt(d.sliceDelay),q=d.sliceFade==true||effectType=="fade"?0:1,x=d.fadePreviousSlide,B=parseInt(d.fadePreviousSlideDuration),v=Math.floor(n.width()/h),ya=Math.floor(n.height()/c);A[p].find("img.image").clone();var Xa=A[p].clone(),lb=[];if(C!=-1&&x==true){var Ga=A[C];y&&Ga.find("*").each(function(){i(this).hasClass(".caption-container")||
i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});Ga.animate({opacity:0},B,function(){Ga.css({visibility:"",opacity:""});y&&Ga.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")})})}Xa.css("visibility","visible").find(".caption-container").remove();g||Xa.find(".html").remove();ja=i('<div class="slice-container"></div>').appendTo(n);d.slideMask&&ja.css("overflow","hidden");for(d=
0;d<h;d++)for(g=0;g<c;g++){x=i('<div class="slice"></div>').css({left:d*v,top:g*ya,width:v,height:ya,opacity:q,display:"none"}).data({hPos:d,vPos:g}).appendTo(ja);var Ha;if(a.html||a.imagePath)Ha=Xa.clone();if(Ha){Ha.css({left:-(d*v),top:-(g*ya),width:n.width(),height:n.height(),overflow:"hidden",position:"absolute"});x.html(Ha).css("overflow","hidden")}y&&x.find("*").each(function(){i(this).css("filter","inherit")});lb.push(x)}if(e=="random")e=qa(["scale","fade","width","height","slide"]);if(f==
"random")f=qa(["randomPattern","topToBottom","bottomToTop","leftToRight","rightToLeft","topLeftToBottomRight","topRightToBottomLeft","bottomLeftToTopRight","bottomRightToTopLeft","horizontalMarginToCenter","horizontalCenterToMargin","marginToCenter","verticalCenterToMargin","skipOneTopToBottom","skipOneBottomToTop","skipOneLeftToRight","skipOneRightToLeft","skipOneHorizontal","skipOneVertical","spiralMarginToCenterCW","spiralMarginToCenterCCW","spiralCenterToMarginCW","spiralCenterToMarginCCW"]);
if(h==1&&f=="skipOneHorizontal"||c==1&&f=="skipOneVertical")f="randomPattern";if(j=="random")j=qa(["leftTop","leftCenter","leftBottom","centerTop","centerCenter","centerBottom","rightTop","rightCenter","rightBottom"]);if(r=="random")r=qa(["left","right","top","bottom","leftTop","rightTop","leftBottom","rightBottom","horizontalAlternate","verticalAlternate"]);a=Gb(lb,f,h,c);Ia=a.length;for(d=0;d<Ia;d++)Hb(a[d],d,e,j,r,l,o,s,k)}function Hb(a,d,e,g,h,c,f,j,r){var l={},o={},s=parseInt(a.css("width")),
k=parseInt(a.css("height")),q=parseInt(a.css("left")),x=parseInt(a.css("top")),B,v;if(e=="scale"||e=="width"||e=="height")switch(g){case "centerCenter":v=x+k*0.5;B=q+s*0.5;break;case "rightCenter":v=x+k*0.5;B=q+s;break;case "leftCenter":v=x+k*0.5;B=q;break;case "centerTop":v=x;B=q+s*0.5;break;case "rightTop":v=x;B=q+s;break;case "leftTop":v=x;B=q;break;case "centerBottom":v=x+k;B=q+s*0.5;break;case "rightBottom":v=x+k;B=q+s;break;case "leftBottom":v=x+k;B=q;break;default:v=x+k*0.5;B=q+s*0.5}else if(e==
"slide")switch(h){case "left":v=x;B=q-s*c;break;case "right":v=x;B=q+s*c;break;case "top":v=x-k*c;B=q;break;case "bottom":v=x+k*c;B=q;break;case "leftTop":v=x-k*c;B=q-s*c;break;case "rightTop":v=x-k*c;B=q+s*c;break;case "leftBottom":v=x+k*c;B=q-s*c;break;case "rightBottom":v=x+k*c;B=q+s*c;break;case "horizontalAlternate":v=x;B=q+s*c*(d%2==0?1:-1);break;case "verticalAlternate":v=x+k*c*(d%2==0?1:-1);B=q;break;default:v=x;B=q-s*c}switch(e){case "fade":o={opacity:1};break;case "scale":l={width:0,height:0,
left:B,top:v};o={width:s,height:k,left:q,top:x,opacity:1};break;case "width":l={width:0,left:B};o={width:s,left:q,opacity:1};break;case "height":l={height:0,top:v};o={height:k,top:x,opacity:1};break;case "slide":l={left:B,top:v};o={left:q,top:x,opacity:1};break;default:o={opacity:1}}var ya=setTimeout(function(){a.css(l).css("display","block").data("delay",ya).animate(o,f,j,function(){Ia--;if(Ia==0){ja.find(".slice").each(function(){i(this).remove();y&&i(this).find("*").each(function(){i(this).css("filter",
"inherit")})});ja.remove();C!=-1&&A[C].css({visibility:""});A[p].css("visibility","visible");L()}})},d*r)}function L(){var a=z[p],d=parseInt(a.properties.captionDelay);K=false;if(b.settings.slideshow&&M!="stopped")if(!b.settings.slideshowLoop&&p==G-1)Ca();else{Ja();if(b.settings.pauseSlideshowOnHover&&Y||I)fa()}if(p!=ba){if(ga&&b.settings.effectType=="swipe"){ga=false;Ua();xa&&clearTimeout(xa)}if(a.caption){ga=true;xa=setTimeout(function(){if(!b.settings.captionToggle||b.settings.captionToggle&&Y)bb()},
d)}else ba=-1}b.settings.preloadNearbyImages&&Cb(p);C!=-1&&A[C].removeClass("active");A[p].addClass("active");var e=A[p].children('a[rel^="slider-lightbox"]');if(e.length&&b.settings.lightboxIcon){ta=true;d=e.attr("href");var g;d=d.indexOf("iframe=true")!=-1||d.indexOf("ajax=true")!=-1||d.indexOf("custom=true")!=-1?"link":d.indexOf("youtube.com")!=-1||d.indexOf("youtu.be")!=-1||d.indexOf("vimeo.com")!=-1?"video":"image";g=i('<div class="lightbox-icon"></div>').appendTo(n);if(d=="video")g.addClass("play");
else if(d=="link")g.addClass("hyperlink");else d=="image"&&g.addClass("magnifying");if(b.settings.lightboxIconToggle&&!Y)g.css("opacity",0);else y||g.css({opacity:0}).stop().animate({opacity:1},b.settings.lightboxIconFadeDuration);g.click(function(){e.trigger("click")})}if(i.fn.videoController&&A[p].find(".video").length){wa=A[p].find(".video").videoController({reachVideoAction:b.settings.reachVideoAction,leaveVideoAction:b.settings.leaveVideoAction,start:function(){if(b.settings.videoPlayAction==
"stopSlideshow"&&!I)Da();else b.settings.videoPlayAction=="pauseSlideshow"&&!I&&fa()},play:function(){Ta=true;if(b.settings.videoPlayAction=="stopSlideshow"&&!I)Da();else b.settings.videoPlayAction=="pauseSlideshow"&&!I&&fa()},pause:function(){if(b.settings.videoPauseAction=="startSlideshow"&&!I)Ja();else b.settings.videoPauseAction=="resumeSlideshow"&&!I&&na()},end:function(){if(b.settings.videoEndAction=="resetVideo")wa.stopVideo();else if(b.settings.videoEndAction=="startSlideshow"&&!I)Ja();else if(b.settings.videoEndAction==
"resumeSlideshow"&&!I)na();else b.settings.videoEndAction=="nextSlide"&&aa()},fullscreenchange:function(){if(i.browser.msie)if(i("body").hasClass("vjs-full-window")){b.settings.timerAnimation&&u.find(".timer-animation").css("visibility","hidden");b.settings.slideArrows&&n.find(".slide-arrows").css("visibility","hidden");b.settings.slideButtons&&u.find(".slide-buttons").css("visibility","hidden");b.settings.slideshowControls&&n.find(".slideshow-controls").css("visibility","hidden");b.settings.lightboxIcon&&
n.find(".lightbox-icon").css("visibility","hidden");if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller")u.find(".thumbnail-scroller").css("visibility","hidden")}else{b.settings.timerAnimation&&u.find(".timer-animation").css("visibility","visible");b.settings.slideArrows&&n.find(".slide-arrows").css("visibility","visible");b.settings.slideButtons&&u.find(".slide-buttons").css("visibility","visible");b.settings.slideshowControls&&n.find(".slideshow-controls").css("visibility",
"visible");b.settings.lightboxIcon&&n.find(".lightbox-icon").css("visibility","visible");if(b.settings.thumbnailType=="scroller"||b.settings.thumbnailType=="tooltipAndScroller")u.find(".thumbnail-scroller").css("visibility","visible")}}});wa.reachVideo()}a={type:"transitionComplete",index:p,data:a};i.isFunction(b.settings.transitionComplete)&&b.settings.transitionComplete.call(this,a)}function bb(){ba=p;var a=z[ba].properties,d=a.captionPosition,e=za(a.captionSize),g=za(a.captionWidth),h=za(a.captionHeight),
c=za(a.captionLeft),f=za(a.captionTop),j=a.captionShowEffect,r=parseInt(a.captionShowEffectDuration),l=a.captionShowEffectEasing,o=a.captionShowSlideDirection;g=d=="custom"?g:"100%";h=d=="custom"?h:"100%";c=d=="custom"?c:0;f=d=="custom"?f:0;var s=A[p].find(".caption-container"),k=s.find(".wrapper"),q=k.find(".background"),x=k.find(".caption"),B=parseFloat(a.captionBackgroundOpacity);a=a.captionBackgroundColor;var v=j=="fade"?0:e;switch(d){case "left":s.css({width:e,height:h,left:c,top:f});o=="auto"&&
k.css({width:e,height:h,left:-v,top:0});break;case "right":s.css({width:e,height:h,right:c,top:f});o=="auto"&&k.css({width:e,height:h,left:v,top:0});break;case "top":s.css({width:g,height:e,left:c,top:f});o=="auto"&&k.css({width:g,height:e,left:0,top:-v});break;case "bottom":s.css({width:g,height:e,left:c,bottom:f});o=="auto"&&k.css({width:g,height:e,left:0,top:v});break;case "custom":s.css({width:g,height:h,left:c,top:f});k.css({width:g,height:h,left:0,top:0});break;case "default":s.css({width:g,
height:e,left:c,bottom:f});o=="auto"&&k.css({width:g,height:e,left:0,top:v})}if(j=="fade")if(y)if(i.browser.version!="6.0"){x.stop().css({opacity:0}).animate({opacity:1},r,l,function(){x.css("filter","")});q.stop().css({opacity:0}).animate({opacity:B},r,l)}else{k.css("opacity",1);x.css("opacity",1);q.css("opacity",1);k.css("background-color",a)}else k.css({opacity:0}).animate({opacity:1},r,l);else{k.stop().css({opacity:1});x.stop().css("opacity",1);q.stop().css("opacity",B);d=="custom"&&s.css({width:g,
height:h,left:c,top:f});if(o=="topToBottom")k.css({width:g,height:h,left:0,top:-h});else if(o=="bottomToTop")k.css({width:g,height:h,left:0,top:h});else if(o=="leftToRight")k.css({width:g,height:h,left:-g,top:0});else o=="rightToLeft"&&k.css({width:g,height:h,left:g,top:0});i.browser.msie&&i.browser.version=="6.0"&&k.css("background-color",a);k.stop().animate({top:0,left:0},r,l)}}function Ua(){if(ba!=-1){var a=A[ba].find(".caption-container").find(".wrapper"),d=a.find(".background"),e=a.find(".caption"),
g=z[ba].properties,h=g.captionPosition,c=g.captionHideEffect,f=parseInt(g.captionHideEffectDuration),j=g.captionHideEffectEasing;g=g.captionHideSlideDirection;if(c=="fade")if(y)if(i.browser.version!="6.0"){e.stop().animate({opacity:0},f,j);d.stop().animate({opacity:0},f,j)}else{e.css("opacity",0);d.css("opacity",0);a.css("opacity",0)}else a.stop().animate({opacity:0},f,j);else if(g=="topToBottom")a.animate({top:a.height()},f);else if(g=="bottomToTop")a.animate({top:-a.height()},f);else if(g=="leftToRight")a.animate({left:a.width()},
f);else if(g=="rightToLeft")a.animate({left:-a.width()},f);else if(g=="auto")switch(h){case "left":a.stop().animate({left:-a.width()},f);break;case "right":a.stop().animate({left:a.width()},f);break;case "top":a.stop().animate({top:-a.height()},f);break;case "bottom":a.stop().animate({top:a.height()},f);break;case "custom":a.stop().animate({top:a.height()},f);break;case "default":a.stop().animate({top:a.height()},f)}}}function Ja(){var a=z[p].properties.slideshowDelay;M="playing";b.settings.timerAnimation&&
Ib(a);Ka=0;La=(new Date).getTime();V&&clearTimeout(V);V=setTimeout(function(){ha="slideshow";if(b.settings.slideshowDirection=="next")aa();else b.settings.slideshowDirection=="previous"&&ia()},a)}function gb(){if(!b.settings.slideshow)b.settings.slideshow=true;u.find(".slideshow-controls").removeClass("play").addClass("pause");Ja()}function Ca(){u.find(".slideshow-controls").removeClass("pause").addClass("play");M="stopped";Da()}function Da(){V&&clearTimeout(V);b.settings.timerAnimation&&Jb()}function fa(){if(b.settings.slideshow&&
M=="playing"&&!K){V&&clearTimeout(V);M="paused";Ka+=(new Date).getTime()-La}}function na(){if(b.settings.slideshow&&M=="paused"&&!K){var a=z[p].properties.slideshowDelay;M="playing";La=(new Date).getTime();V&&clearTimeout(V);V=setTimeout(function(){if(b.settings.slideshowDirection=="next")aa();else b.settings.slideshowDirection=="previous"&&ia()},a-Ka)}}function Ib(a){var d=document.createElement("canvas"),e=Math.max(b.settings.timerStrokeWidth1,b.settings.timerStrokeWidth2)+b.settings.timerRadius*
2,g=e/2,h=Math.PI/180,c=0,f,j,r=b.settings.timerStrokeOpacity1,l=b.settings.timerStrokeOpacity2,o=ra(b.settings.timerStrokeColor1).red,s=ra(b.settings.timerStrokeColor1).green,k=ra(b.settings.timerStrokeColor1).blue,q=ra(b.settings.timerStrokeColor2).red,x=ra(b.settings.timerStrokeColor2).green,B=ra(b.settings.timerStrokeColor2).blue;d.width=d.height=e;i(d).attr("class","timer-animation").appendTo(n);if(b.settings.timerAnimationControls){I?i(d).addClass("play"):i(d).addClass("pause");i(d).click(function(){if(I){if(I){I=
false;i(d).removeClass("play").addClass("pause");b.settings.pauseSlideshowOnHover&&Y||na()}}else{I=true;i(d).removeClass("pause").addClass("play");b.settings.pauseSlideshowOnHover&&Y||fa()}})}if(b.settings.timerToggle&&!Y)i(d).css("opacity",0);else y||i(d).css({opacity:0}).stop().animate({opacity:1},b.settings.timerFadeDuration);var v;if(d.getContext)v=d.getContext("2d");else if(typeof G_vmlCanvasManager!="undefined"&&y)v=G_vmlCanvasManager.initElement(d).getContext("2d");else return;v.beginPath();
v.lineWidth=b.settings.timerStrokeWidth1;v.strokeStyle="rgba("+o+", "+s+", "+k+", "+r+")";v.arc(g,g,b.settings.timerRadius,0,2*Math.PI,false);v.stroke();Ya=setInterval(function(){if(c<=360&&!(b.settings.pauseSlideshowOnHover&&Y||ma||I||M=="paused")){f=(new Date).getTime();j=f-La;c=(Ka+j)/a*360+1;if(c>360)c=360;d.width=d.width;v.beginPath();v.lineWidth=b.settings.timerStrokeWidth1;v.strokeStyle="rgba("+o+", "+s+", "+k+", "+r+")";v.arc(g,g,b.settings.timerRadius,0,2*Math.PI,false);v.stroke();v.beginPath();
v.lineWidth=b.settings.timerStrokeWidth2;v.strokeStyle="rgba("+q+", "+x+", "+B+", "+l+")";v.arc(g,g,b.settings.timerRadius,0,c*h,false);v.stroke()}},20)}function Jb(){Ya&&clearInterval(Ya);var a=u.find(".timer-animation");if(a)y?a.remove():a.stop().animate({opacity:0},b.settings.timerFadeDuration,function(){a.remove()})}function xb(){t=i('<div class="thumbnail-scroller"></div>').appendTo(u);H=i('<div class="visible-container"></div>').appendTo(t);O=i('<ul class="container"></ul>').appendTo(H);b.settings.thumbnailOrientation==
"horizontal"?t.addClass("horizontal"):t.addClass("vertical");for(var a=0;a<G;a++)if(z[a].thumbnail&&(z[a].properties.thumbnailType=="scroller"||z[a].properties.thumbnailType=="tooltipAndScroller")){var d=z[a].thumbnail.is("a"),e=d?z[a].thumbnail.find("img").removeClass("thumbnail"):z[a].thumbnail,g=e.attr("src"),h=e.attr("alt");e.attr("title");var c=i('<li class="thumbnail-wrapper"></li>').appendTo(O);if(d){d=z[a].thumbnail;d.addClass("thumbnail").css({width:b.settings.thumbnailWidth,height:b.settings.thumbnailHeight}).attr("data-index",
a).appendTo(c);if(e[0].complete||e[0].readyState=="complete"){e.css("margin-left",(b.settings.thumbnailWidth-e.width())*0.5);e.css("margin-top",(b.settings.thumbnailHeight-e.height())*0.5);d.css("background-image","none")}else e.load(function(){i(this).css("margin-left",(b.settings.thumbnailWidth-i(this).width())*0.5);i(this).css("margin-top",(b.settings.thumbnailHeight-i(this).height())*0.5);i(this).parent().css("background-image","none")})}else{d=i('<a class="thumbnail"></a>').css({"background-image":"url("+
g+")",width:b.settings.thumbnailWidth,height:b.settings.thumbnailHeight}).attr("data-index",a).appendTo(c);z[a].thumbnail.attr("title")&&d.attr("title",z[a].thumbnail.attr("title"))}c.css({width:d.outerWidth(),height:d.outerHeight()});F=b.settings.thumbnailLayers==-1||b.settings.thumbnailLayers*b.settings.maximumVisibleThumbnails>G?Math.ceil(G/b.settings.maximumVisibleThumbnails):b.settings.thumbnailLayers;if(b.settings.thumbnailOrientation=="horizontal"){c.css("left",Math.floor(P/F)*c.outerWidth(true));
c.css("top",P%F*c.outerHeight(true))}else{c.css("left",P%F*c.outerWidth(true));c.css("top",Math.floor(P/F)*c.outerHeight(true))}if(h){e=i('<div class="caption"></div>').appendTo(d);g=i('<div class="background"></div>').appendTo(e);h=i('<div class="content">'+h+"</div>").appendTo(e);e.css("height",h.outerHeight(true));b.settings.thumbnailCaptionPosition=="top"?e.css({top:0}):e.css({bottom:0});if(b.settings.thumbnailCaptionToggle)if(b.settings.thumbnailCaptionEffect=="slide")b.settings.thumbnailCaptionPosition==
"top"?e.css({top:-e.outerHeight(true)}):e.css({bottom:-e.outerHeight(true)});else if(y){g.data("opacity",g.css("opacity"));g.css("opacity",0);h.css("opacity",0)}else e.css("opacity",0)}c=c.children('a[rel^="slider-lightbox"]');h=A[a].children('a[rel^="slider-lightbox"]');e=c.length&&b.settings.lightboxIcon;g=h.length&&b.settings.thumbnailLightboxIcon;if(e||g){c=e?c.attr("href"):h.attr("href");c=c.indexOf("iframe=true")!=-1||c.indexOf("ajax=true")!=-1||c.indexOf("custom=true")!=-1?"link":c.indexOf("youtube.com")!=
-1||c.indexOf("youtu.be")!=-1||c.indexOf("vimeo.com")!=-1?"video":"image";h=i('<div class="lightbox-icon"></div>').appendTo(d);if(c=="video")h.addClass("play");else if(c=="link")h.addClass("hyperlink");else c=="image"&&h.addClass("magnifying");b.settings.thumbnailLightboxIconToggle&&h.css("opacity",0)}d.hover(function(){i(this).hasClass("select")||i(this).addClass("over");var f=i(this).data("index");if(b.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),r=j.children(".background"),
l=j.children(".content"),o=r.data("opacity");if(b.settings.thumbnailCaptionEffect=="slide")b.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:0},b.settings.thumbnailCaptionShowDuration,b.settings.thumbnailCaptionEasing):j.stop().animate({bottom:0},b.settings.thumbnailCaptionShowDuration,b.settings.thumbnailCaptionEasing);else if(y){r.stop().animate({opacity:o},b.settings.thumbnailCaptionShowDuration,b.settings.thumbnailCaptionEasing);l.stop().animate({opacity:1},b.settings.thumbnailCaptionShowDuration,
b.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:1},b.settings.thumbnailCaptionShowDuration,b.settings.thumbnailCaptionEasing)}if(b.settings.thumbnailLightboxIconToggle){j=i(this).children(".lightbox-icon");y?j.css("filter",""):j.stop().animate({opacity:1},b.settings.lightboxIconFadeDuration)}b.settings.thumbnailTooltip&&Kb(i(this).attr("title"));f={type:"thumbnailMouseOver",index:f};i.isFunction(b.settings.thumbnailMouseOver)&&b.settings.thumbnailMouseOver.call(this,f)},function(){i(this).hasClass("select")||
i(this).removeClass("over");var f=i(this).data("index");if(b.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),r=j.children(".background"),l=j.children(".content");if(b.settings.thumbnailCaptionEffect=="slide")b.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:-j.outerHeight(true)},b.settings.thumbnailCaptionHideDuration,b.settings.thumbnailCaptionEasing):j.stop().animate({bottom:-j.outerHeight(true)},b.settings.thumbnailCaptionHideDuration,b.settings.thumbnailCaptionEasing);
else if(y){r.stop().animate({opacity:0},b.settings.thumbnailCaptionHideDuration,b.settings.thumbnailCaptionEasing);l.stop().animate({opacity:0},b.settings.thumbnailCaptionHideDuration,b.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:0},b.settings.thumbnailCaptionHideDuration,b.settings.thumbnailCaptionEasing)}if(b.settings.thumbnailLightboxIconToggle){j=i(this).children(".lightbox-icon");y?j.css("opacity",0):j.stop().animate({opacity:0},b.settings.lightboxIconFadeDuration)}b.settings.thumbnailTooltip&&
Lb();f={type:"thumbnailMouseOut",index:f};i.isFunction(b.settings.thumbnailMouseOut)&&b.settings.thumbnailMouseOut.call(this,f)});d.click(function(){var f=i(this).data("index");ha="thumbnail";var j={type:"thumbnailClick",index:f};i.isFunction(b.settings.thumbnailClick)&&b.settings.thumbnailClick.call(this,j);i(this).attr("href")||pa(f)});P++}Q=t.find(".thumbnail-wrapper").outerWidth(true);R=t.find(".thumbnail-wrapper").outerHeight(true);S=Math.ceil(P/(b.settings.maximumVisibleThumbnails*F));if(b.settings.thumbnailOrientation==
"horizontal"){t.css({height:R*F,width:Q*b.settings.maximumVisibleThumbnails});H.css({height:R*F,width:Q*b.settings.maximumVisibleThumbnails})}else{t.css({width:Q*F,height:R*b.settings.maximumVisibleThumbnails});H.css({width:Q*F,height:R*b.settings.maximumVisibleThumbnails})}b.settings.thumbnailArrows&&Mb();b.settings.thumbnailButtons&&mb();b.settings.thumbnailScrollbar&&Nb();b.settings.thumbnailMouseScroll&&va();b.settings.thumbnailMouseWheel&&nb();b.settings.thumbnailTooltip&&i('<div class="tooltip"><div class="content"></div></div>').hide().appendTo(t);
if(b.settings.thumbnailMouseScroll||b.settings.thumbnailTooltip||b.settings.thumbnailScrollbar)i(document).bind("mousemove",function(f){da=f.pageX;ea=f.pageY});Wa();if(b.settings.thumbnailScrollerToggle){t.css({opacity:0});t.hover(function(){y?t.css("filter",""):t.stop().animate({opacity:1},b.settings.thumbnailScrollerShowDuration)},function(){y?t.css("opacity",0):t.stop().animate({opacity:0},b.settings.thumbnailScrollerHideDuration)})}}function Wa(){if(b.settings.thumbnailOrientation=="horizontal"){var a=
b.settings.thumbnailArrows?parseInt(t.css("paddingLeft"))+parseInt(t.css("paddingRight")):0;W=Math.ceil(P/F)*Q;U=b.settings.thumbnailScrollerResponsive?Math.max(b.settings.minimumVisibleThumbnails,Math.min(Math.ceil(P/F),b.settings.maximumVisibleThumbnails,Math.floor((n.outerWidth()-a)/Q))):Math.min(P,b.settings.maximumVisibleThumbnails);t.css("width",Q*U);H.css("width",Q*U)}else{a=b.settings.thumbnailArrows?parseInt(t.css("paddingTop"))+parseInt(t.css("paddingBottom")):0;W=Math.ceil(P/F)*R;U=b.settings.thumbnailScrollerResponsive?
Math.max(b.settings.minimumVisibleThumbnails,Math.min(Math.ceil(P/F),b.settings.maximumVisibleThumbnails,Math.floor((n.outerHeight()-a)/R))):Math.min(P,b.settings.maximumVisibleThumbnails);t.css("height",U*R);H.css("height",U*R)}if(b.settings.thumbnailScrollerCenter)if(b.settings.thumbnailOrientation=="horizontal")t.css("left",(J.outerWidth()-t.outerWidth())/2);else b.settings.thumbnailOrientation=="vertical"&&t.css("top",(n.outerHeight()-t.outerHeight())/2);if(ob!=U){ob=U;S=Math.ceil(P/(U*F));b.settings.thumbnailButtons&&
b.settings.thumbnailScrollerResponsive&&mb();if(b.settings.thumbnailScrollbar&&b.settings.thumbnailScrollerResponsive)if(b.settings.thumbnailOrientation=="horizontal"){D.css("width",t.width());Ma.css("width",D.width()-thumbnailScrollerScrollbarEdgeSize);D.css("left",(t.outerWidth()-D.width())/2)}else{D.css("height",t.height());Ma.css("height",D.height()-thumbnailScrollerScrollbarEdgeSize);D.css("top",(t.outerHeight()-D.height())/2)}ca(N)}}function Mb(){Z=i('<div class="arrows"></div>').appendTo(t);
var a=i('<a class="previous"></a>').click(function(){pb()}).appendTo(Z),d=i('<a class="next"></a>').click(function(){qb()}).appendTo(Z);if(b.settings.thumbnailOrientation=="horizontal"){a.css({top:Math.round((R*F-a.height())/2)});d.css({top:Math.round((R*F-d.height())/2)})}else{a.css({left:Math.round((Q*F-a.width())/2)});d.css({left:Math.round((Q*F-d.width())/2)})}if(b.settings.thumbnailArrowsToggle){i.browser.msie?Z.hide():Z.css("opacity",0);t.hover(function(){i.browser.msie?Z.show():Z.stop().animate({opacity:1},
b.settings.thumbnailArrowsShowDuration)},function(){i.browser.msie?Z.hide():Z.stop().animate({opacity:0},b.settings.thumbnailArrowsHideDuration)})}}function mb(){if(!E){E=i('<div class="buttons"></div>').appendTo(t);if(b.settings.thumbnailButtonsToggle){y?E.hide():E.css("opacity",0);t.hover(function(){y?E.show():E.stop().animate({opacity:1},b.settings.thumbnailButtonsShowDuration)},function(){y?E.hide():E.stop().animate({opacity:0},b.settings.thumbnailButtonsShowDuration)})}}if(S==1)E.empty();else if(E.find(".buttons a").length!=
S&&S>1){E.empty();for(var a,d=0;d<S;d++){var e=i('<a rel="'+d+'"></a>').appendTo(E);if(b.settings.thumbnailOrientation=="horizontal"){a=e.outerWidth(true);e.css("left",d*a)}else{a=e.outerHeight(true);e.css("top",d*a)}e.bind({mouseover:function(){i(this).hasClass("select")||i(this).addClass("over")},mouseout:function(){i(this).hasClass("select")||i(this).removeClass("over")},click:function(){var g=parseInt(i(this).attr("rel"));ca(g)}})}if(b.settings.thumbnailOrientation=="horizontal"){E.css("top",
R*F);E.css("width",a*S);E.css("height",a);t.css("height",Math.max(t.height(),E.position().top+E.outerHeight(true)))}else{E.css("left",Q*F);E.css("height",a*S);E.css("width",a);t.css("width",Math.max(t.width(),E.position().left+E.outerWidth(true)))}if(N>S-1)N=S-1;E.find("a").eq(N).addClass("select")}b.settings.thumbnailOrientation=="horizontal"?E.css("left",(t.outerWidth()-E.outerWidth())/2):E.css("top",(t.outerHeight()-E.outerHeight())/2)}function qb(){if(N<S-1){N++;ca(N)}else ca(0)}function pb(){if(N>
0){N--;ca(N)}else ca(S-1)}function ca(a){var d=b.settings.thumbnailOrientation=="horizontal"?H.width():H.height(),e=a*d;N=a;if(N==S-1)e=W-d;Za();O.animate(b.settings.thumbnailOrientation=="horizontal"?{left:-e}:{top:-e},{duration:b.settings.thumbnailScrollDuration,easing:b.settings.thumbnailScrollEasing,step:function(){Na()},complete:function(){$a()}});if(b.settings.thumbnailButtons){d=t.find(".buttons");d.find(".select").removeClass("select");d.find("a").eq(a).removeClass("over").addClass("select")}}
function va(){b.settings.thumbnailMouseScroll=true;var a=0,d=false,e=H.offset().top,g=H.offset().left,h=H.width(),c=H.height(),f=b.settings.thumbnailOrientation=="horizontal"?h:c,j=b.settings.thumbnailOrientation=="horizontal"?g:e,r=b.settings.thumbnailOrientation=="horizontal"?"left":"top",l=parseInt(O.css(r));Oa=setInterval(function(){if(!d){d=true;e=H.offset().top;g=H.offset().left;h=H.width();c=H.height()}if(da>g&&da<g+h&&ea>e&&ea<e+c){a=Math.round((-((W-f+200)*(((b.settings.thumbnailOrientation==
"horizontal"?da:ea)-j)/f))+100-l)*b.settings.thumbnailMouseScrollSpeed/100);l+=a}else if(Math.abs(a)>0.1){a*=b.settings.thumbnailMouseScrollEase/100;l+=a}else a=0;if(Math.abs(a)>0){if(l>=0)l=0;else if(l<=f-W)l=f-W;Na();O.css(r,l)}},30)}function nb(){b.settings.thumbnailMouseWheel=true;var a=0,d=b.settings.thumbnailMouseWheelReverse?-1:1,e,g=b.settings.thumbnailOrientation=="horizontal"?"left":"top",h=b.settings.thumbnailOrientation=="horizontal"?H.width():H.height();H.bind("mousewheel",function(c,
f){c.preventDefault();if(!Pa){Za();Pa=true;a=e=parseInt(O.css(g));Qa=setInterval(function(){if(Math.abs(a-e)>0.5){e+=(a-e)*(b.settings.thumbnailMouseWheelSpeed/100);Na();O.css(g,e)}else $a()},30)}a+=d*f*10;if(a>=0)a=0;else if(a<=h-W)a=h-W})}function Nb(){function a(){l=(b.settings.thumbnailOrientation=="horizontal"?da:ea)-la.offset()[x]-o;d()}function d(){if(l<0)l=0;else if(l>parseInt(la.css(q))-parseInt(r.css(q)))l=parseInt(la.css(q))-parseInt(r.css(q));Aa&&r.css(x,l);s=l/(parseInt(la.css(q))-parseInt(r.css(q)));
if(!Ra){Za();Ra=true;k=parseInt(O.css(x));ab=setInterval(function(){if(Math.abs(rb()+s)>0.0010){var B=(-s*(W-parseInt(H.css(q)))-k)*b.settings.thumbnailScrollbarEase/100;k+=B;Na();O.css(x,k)}else Ra&&$a()},30)}}D=i('<div class="scrollbar"></div>').appendTo(t);var e=i('<div class="back"></div>').appendTo(D),g=i('<div class="track"></div>').appendTo(D),h=i('<div class="forward"></div>').appendTo(D),c=i('<div class="track-middle"></div>').appendTo(g),f=i('<div class="track-back"></div>').appendTo(g),
j=i('<div class="track-forward"></div>').appendTo(g),r=i('<div class="thumb"></div>').appendTo(g);i('<div class="thumb-middle"></div>').appendTo(r);i('<div class="thumb-back"></div>').appendTo(r);i('<div class="thumb-forward"></div>').appendTo(r);var l=0,o,s=0,k=0,q=b.settings.thumbnailOrientation=="horizontal"?"width":"height",x=b.settings.thumbnailOrientation=="horizontal"?"left":"top";D.addClass(b.settings.scrollbarSkin);la=g;if(b.settings.thumbnailOrientation=="horizontal"){D.addClass("horizontal");
D.css({top:R*F,left:(t.outerWidth()-D.width())/2});t.css("height",Math.max(t.height(),D.position().top+D.outerHeight(true)))}else{D.addClass("vertical");D.css({left:Q*F,top:(t.outerHeight()-D.height())/2});t.css("width",Math.max(t.width(),D.position().left+D.outerWidth(true)))}if(e.width()==0&&h.width()==0){Ma=c;thumbnailScrollerScrollbarEdgeSize=b.settings.thumbnailOrientation=="horizontal"?f.width()+j.width():f.height()+j.height()}else{Ma=g;thumbnailScrollerScrollbarEdgeSize=b.settings.thumbnailOrientation==
"horizontal"?e.width()+h.width():e.height()+h.height()}if(b.settings.thumbnailScrollbarToggle){y?D.hide():D.css("opacity",0);t.hover(function(){y?D.show():D.stop().animate({opacity:1},b.settings.thumbnailScrollbarShowDuration)},function(){y?D.hide():D.stop().animate({opacity:0},b.settings.thumbnailScrollbarShowDuration)})}r.bind("mousedown",function(B){B.preventDefault();o=(b.settings.thumbnailOrientation=="horizontal"?da:ea)-r.offset()[x];Aa=true;i(document).bind("mousemove",a)});i(document).bind("mouseup",
function(){if(Aa){Aa=false;i(document).unbind("mousemove",a)}});e.bind("click",function(){l=parseInt(r.css(x))-b.settings.scrollbarArrowScrollAmount;d()});h.bind("click",function(){l=parseInt(r.css(x))+b.settings.scrollbarArrowScrollAmount;d()})}function rb(){var a=b.settings.thumbnailOrientation=="horizontal"?"width":"height";return parseFloat(O.css(b.settings.thumbnailOrientation=="horizontal"?"left":"top"))/(W-parseInt(H.css(a)))}function ua(){Oa&&clearInterval(Oa);if(Qa){Pa=false;clearInterval(Qa)}if(ab){Ra=
false;clearInterval(ab)}}function Za(){ua();O&&O.is(":animated")&&O.stop()}function $a(){ua();b.settings.thumbnailMouseScroll&&va()}function Na(){if(b.settings.thumbnailScrollbar&&!Aa){var a=la.find(".thumb"),d=b.settings.thumbnailOrientation=="horizontal"?"left":"top",e=b.settings.thumbnailOrientation=="horizontal"?"width":"height";e=parseInt(la.css(e))-parseInt(a.css(e));var g=-rb()*e;g>=0&&g<=e&&a.css(d,g)}}function Kb(a){if(a){var d=u.find(".tooltip");d.find(".content").html(a);d.stop(false,true).fadeIn(b.settings.tooltipShowDuration);
var e=-d.outerWidth()/2,g=0-d.outerHeight()-parseInt(d.css("marginBottom"));d.css({left:da-t.offset().left+e,top:ea-t.offset().top+g});i(document).bind("mousemove.tooltip",function(){d.css({left:da-t.offset().left+e,top:ea-t.offset().top+g})})}}function Lb(){var a=u.find(".tooltip");a&&a.stop(false,true).fadeOut(b.settings.tooltipHideDuration,function(){i(document).unbind("mousemove.tooltip");a.css("left",-9999)})}function Gb(a,d,e,g){var h=[],c,f,j=0;switch(d){case "randomPattern":for(e=[];a.length;){j=
Math.floor(Math.random()*a.length);e.push(a[j]);a.splice(j,1)}var r=e.length;for(d=0;d<r;d++)h[d]=e[d];break;case "topToBottom":for(f=0;f<g;f++)for(c=0;c<e;c++)h.push(m(a,c,f));break;case "bottomToTop":for(f=g-1;f>=0;f--)for(c=e-1;c>=0;c--)h.push(m(a,c,f));break;case "rightToLeft":for(c=e-1;c>=0;c--)for(f=g-1;f>=0;f--)h.push(m(a,c,f));break;case "leftToRight":for(c=0;c<e;c++)for(f=0;f<g;f++)h.push(m(a,c,f));break;case "topLeftToBottomRight":for(d=0;d<e+g-1;d++){f=0;for(c=d;c>=0;c--){m(a,c,f)!=undefined&&
h.push(m(a,c,f));f++}}break;case "bottomLeftToTopRight":j=e>g?e:g;for(d=e-1;d>=1-j;d--){c=0;for(f=d;f<=e-1;f++){m(a,c,f)!=undefined&&h.push(m(a,c,f));c++}}break;case "topRightToBottomLeft":j=e>g?e:g;for(d=e-1;d>=1-j;d--){c=d;for(f=0;f<=g-1;f++){m(a,c,f)!=undefined&&h.push(m(a,c,f));c++}}break;case "bottomRightToTopLeft":for(d=g+e-2;d>=0;d--){f=0;for(c=d;c>=0;c--){m(a,c,f)!=undefined&&h.push(m(a,c,f));f++}}break;case "horizontalMarginToCenter":if(e%2){for(c=0;c<Math.floor(e/2);c++)for(f=0;f<g;f++){h.push(m(a,
c,f));h.push(m(a,e-1-c,f))}for(d=0;d<g;d++)h.push(m(a,Math.floor(e/2),d))}else for(c=0;c<Math.floor(e/2);c++)for(f=0;f<g;f++){h.push(m(a,c,f));h.push(m(a,e-1-c,f))}break;case "horizontalCenterToMargin":if(e%2)for(d=0;d<g;d++)h.push(m(a,Math.floor(e/2),d));for(c=Math.floor(e/2)-1;c>=0;c--)for(f=0;f<g;f++){h.push(m(a,c,f));h.push(m(a,e-1-c,f))}break;case "verticalMarginToCenter":if(g%2){for(f=0;f<Math.floor(g/2);f++)for(c=0;c<e;c++){h.push(m(a,c,f));h.push(m(a,c,g-1-f))}for(d=0;d<e;d++)h.push(m(a,d,
Math.floor(g/2)))}else for(f=0;f<Math.floor(g/2);f++)for(c=0;c<e;c++){h.push(m(a,c,f));h.push(m(a,c,g-1-f))}break;case "verticalCenterToMargin":if(g%2)for(d=0;d<e;d++)h.push(m(a,d,Math.floor(g/2)));for(f=Math.floor(g/2)-1;f>=0;f--)for(c=0;c<e;c++){h.push(m(a,c,f));h.push(m(a,c,g-1-f))}break;case "skipOneTopToBottom":for(f=0;f<g;f++){for(c=j;c<e;c+=2)h.push(m(a,c,f));j==0?j=1:j=0}j=1;for(f=0;f<g;f++){for(c=j;c<e;c+=2)h.push(m(a,c,f));j==0?j=1:j=0}break;case "skipOneBottomToTop":for(f=g-1;f>=0;f--){for(c=
j;c<e;c+=2)h.push(m(a,c,f));j==0?j=1:j=0}j=1;for(f=g-1;f>=0;f--){for(c=j;c<e;c+=2)h.push(m(a,c,f));j==0?j=1:j=0}break;case "skipOneLeftToRight":for(c=0;c<e;c++){for(f=j;f<g;f+=2)h.push(m(a,c,f));j==0?j=1:j=0}j=1;for(c=0;c<e;c++){for(f=j;f<g;f+=2)h.push(m(a,c,f));j==0?j=1:j=0}break;case "skipOneRightToLeft":for(c=e-1;c>=0;c--){for(f=j;f<g;f+=2)h.push(m(a,c,f));j==0?j=1:j=0}j=1;for(c=e-1;c>=0;c--){for(f=j;f<g;f+=2)h.push(m(a,c,f));j==0?j=1:j=0}break;case "skipOneVertical":if(g%2)for(f=0;f<g;f++){for(c=
j;c<e;c+=2){if(f==Math.floor(g/2)){f++;for(d=1-e%2;d<e;d+=2){h.push(m(a,d,Math.floor(g/2)));m(a,d-1,Math.floor(g/2))!=undefined&&h.push(m(a,d-1,Math.floor(g/2)))}}h.push(m(a,c,f));h.push(m(a,c,g-f-1))}j==0?j=1:j=0}else for(f=0;f<g;f++){for(c=j;c<e;c+=2){h.push(m(a,c,f));h.push(m(a,c,g-f-1))}j==0?j=1:j=0}break;case "skipOneHorizontal":if(e%2)for(c=0;c<e;c++){for(f=j;f<g;f+=2){if(c==Math.floor(e/2)){c++;for(d=1-g%2;d<g;d+=2){h.push(m(a,Math.floor(e/2),d));m(a,Math.floor(e/2),d-1)!=undefined&&h.push(m(a,
Math.floor(e/2),d-1))}}h.push(m(a,c,f));h.push(m(a,e-1-c,f))}j==0?j=1:j=0}else for(c=0;c<e;c++){for(f=j;f<g;f+=2){h.push(m(a,c,f));h.push(m(a,e-1-c,f))}j==0?j=1:j=0}break;case "spiralMarginToCenterCW":var l=e,o=g,s,k=0,q=g<e?g:e;r=Math.floor(q/2);for(s=0;s<r;s++){for(c=k++;c<l;c++)h.push(m(a,c,k-1));l--;for(f=k;f<o;f++)h.push(m(a,e-k,f));o--;for(d=l;d>=e-l;d--)h.push(m(a,d-1,o));for(j=o-1;j>=g-o;j--)h.push(m(a,k-1,j))}if(q%2){if(q==g)for(c=k++;c<l;c++)h.push(m(a,c,k-1));if(q==e)for(f=k++;f<o;f++)h.push(m(a,
e-k,f))}break;case "spiralMarginToCenterCCW":l=e;o=g;k=0;q=g<e?g:e;r=Math.floor(q/2);for(s=0;s<r;s++){for(f=k++;f<o;f++)h.push(m(a,k-1,f));o--;for(c=k;c<l;c++)h.push(m(a,c,g-k));l--;for(d=o;d>=g-o;d--)h.push(m(a,l,d-1));for(j=l-1;j>=e-l;j--)h.push(m(a,j,k-1))}if(q%2){if(q==g)for(c=k++;c<l;c++)h.push(m(a,c,g-k));if(q==e)for(f=k++;f<o;f++)h.push(m(a,k-1,f))}break;case "spiralCenterToMarginCCW":l=e;o=g;k=0;q=g<e?g:e;r=Math.floor(q/2);for(s=0;s<r;s++){for(c=k++;c<l;c++)h.push(m(a,c,k-1));l--;for(f=k;f<
o;f++)h.push(m(a,e-k,f));o--;for(d=l;d>=e-l;d--)h.push(m(a,d-1,o));for(j=o-1;j>=g-o;j--)h.push(m(a,k-1,j))}if(q%2){if(q==g)for(c=k++;c<l;c++)h.push(m(a,c,k-1));if(q==e)for(f=k++;f<o;f++)h.push(m(a,e-k,f))}h.reverse();break;case "spiralCenterToMarginCW":l=e;o=g;k=0;q=g<e?g:e;r=Math.floor(q/2);for(s=0;s<r;s++){for(f=k++;f<o;f++)h.push(m(a,k-1,f));o--;for(c=k;c<l;c++)h.push(m(a,c,g-k));l--;for(d=o;d>=g-o;d--)h.push(m(a,l,d-1));for(j=l-1;j>=e-l;j--)h.push(m(a,j,k-1))}if(q%2){if(q==g)for(c=k++;c<l;c++)h.push(m(a,
c,g-k));if(q==e)for(f=k++;f<o;f++)h.push(m(a,k-1,f))}h.reverse();break;default:for(e=[];a.length;){j=Math.floor(Math.random()*a.length);e.push(a[j]);a.splice(j,1)}r=e.length;for(d=0;d<r;d++)h[d]=e[d]}return h}function m(a,d,e){return i.grep(a,function(g){return g.data("hPos")==d&&g.data("vPos")==e})[0]}function qa(a){return a[Math.floor(Math.random()*a.length)]}function za(a){return isNaN(a)?a:parseInt(a)}function ra(a){var d=parseInt(a.substring(1,3),16),e=parseInt(a.substring(3,5),16);a=parseInt(a.substring(5,
7),16);return{red:d,green:e,blue:a}}this.settings=i.extend({},i.fn.advancedSlider.defaults,T);var u=i(Sa),b=this,p=-1,C=-1,ba=-1,z=[],A=[],G=0,oa=0,ja=null,K=false,Y=false,ta=false,ma=false,ga=false,Ta=false,I=false,V=0,Ya=0,M,Ka=0,La=0,P=0,U=0,ob=0,W,t,H,O,Q,R,Z,E,D,la,Ma,N=0,S=0,F=0,Oa,Qa,Pa=false,ab,Aa=false,Ra=false,da,ea,jb=true,ha="",xa=0,wa=null,J,n,w,db,eb,cb=0,Ia,hb,y=i.browser.msie&&parseInt(i.browser.version)<9,sa=false,Ba=["alignType","effectType","sliceEffectType","sliceDelay","sliceDuration",
"sliceEasing","horizontalSlices","verticalSlices","slicePattern","slicePoint","sliceStartPosition","sliceStartRatio","sliceFade","captionSize","captionPosition","captionShowEffectDuration","captionShowEffectEasing","captionHideEffectDuration","captionHideEffectEasing","captionShowEffect","captionHideEffect","captionLeft","captionTop","captionWidth","captionHeight","captionShowSlideDirection","captionHideSlideDirection","captionBackgroundColor","captionBackgroundOpacity","slideshowDelay","slideMask",
"slideDirection","slideDuration","slideEasing","slideLoop","fadeInDuration","fadeOutDuration","fadeInEasing","fadeOutEasing","fadePreviousSlide","fadePreviousSlideDuration","thumbnailType","captionDelay","htmlDuringTransition"];(function(){if(b.settings.xmlSource){u.empty();i.ajax({type:"GET",url:b.settings.xmlSource,dataType:i.browser.msie?"text":"xml",success:function(a){var d,e;if(i.browser.msie){d=new ActiveXObject("Microsoft.XMLDOM");d.async=false;d.loadXML(a)}else d=a;w=i('<ul class="slides"></ul>').appendTo(u);
e=i(d).find("slider");i(d).find("slide").each(function(g){var h=i('<li class="slide"></li>').appendTo(w),c=i(this),f=c.find("image"),j=c.find("thumbnail"),r=c.find("caption"),l=c.find("html"),o=c.find("link"),s=c.find("thumbnailLink"),k=f.length||c.attr("data-image"),q,x;c.attr("data-image")&&h.attr("data-image",c.attr("data-image"));if(k&&o.length)q=i("<a></a>").attr("href",o.text()).attr("title",o.attr("title")?o.attr("title"):"").attr("target",o.attr("target")?o.attr("target"):"_self").attr("rel",
(o.attr("type")=="slider-lightbox"?o.attr("type"):"")+(o.attr("group")?"["+o.attr("group")+"]":"")).appendTo(h);if(f.length)i("<img/>").attr("src",f.text()).attr("class","image").attr("alt",f.attr("alt")?f.attr("alt"):"").attr("title",f.attr("title")?f.attr("title"):"").appendTo(q?q:h);if(j.length&&s.length)x=i("<a></a>").attr("href",s.text()).attr("title",s.attr("title")?s.attr("title"):"").attr("target",s.attr("target")?s.attr("target"):"_self").attr("rel",(s.attr("type")=="slider-lightbox"?s.attr("type"):
"")+(s.attr("group")?"["+s.attr("group")+"]":"")).appendTo(h);if(j.length)i("<img/>").attr("src",j.text()).attr("class","thumbnail").attr("alt",j.attr("alt")?j.attr("alt"):"").attr("title",j.attr("title")?j.attr("title"):"").appendTo(x?x:h);if(r.length)i("<div></div>").html(r.text()).attr("class","caption").appendTo(r.attr("parent")=="link"&&q?q:h);l.length&&i("<div></div>").html(l.text()).attr("class","html").appendTo(h);h.properties={};for(c=0;c<Ba.length;c++){f=Ba[c];h.properties[f]=T.slideProperties&&
T.slideProperties[g]&&T.slideProperties[g][f]?T.slideProperties[g][f]:i(this).attr(f)?i(this).attr(f):T[f]?T[f]:e.attr(f)?e.attr(f):i.fn.advancedSlider.defaults[f]}z.push(h)});X();a={type:"xmlLoaded",data:d};i.isFunction(b.settings.xmlLoaded)&&b.settings.xmlLoaded.call(this,a)}})}else X()})();this.nextSlide=aa;this.previousSlide=ia;this.gotoSlide=pa;this.startSlideshow=gb;this.stopSlideshow=Ca;this.pauseSlideshow=fa;this.resumeSlideshow=na;this.scrollToThumbnailPage=ca;this.scrollToNextThumbnailPage=
qb;this.scrollToPreviousThumbnailPage=pb;this.startThumbnailMouseScroll=va;this.stopThumbnailMouseScroll=function(){b.settings.thumbnailMouseScroll=false;clearInterval(Oa)};this.startThumbnailMouseWheel=nb;this.stopThumbnailMouseWheel=function(){Pa=b.settings.thumbnailMouseWheel=false;clearInterval(Qa)};this.doSliderLayout=Va;this.getSlideshowState=function(){return M};this.getCurrentIndex=function(){return p};this.getSlideAt=function(a){return z[a]};this.getTriggerType=function(){return ha};this.isTransition=
function(){return K};this.totalSlides=function(){return G};this.getSize=function(){return{sliderWidth:u.width(),sliderHeight:u.height(),slideWidth:n.width(),slideHeight:n.height()}};this.destroy=function(){Ca();ua();i(document).unbind("mousemove");i(document).unbind("mousemove.tooltip")}}i.fn.advancedSlider=function(Sa){for(var T=[],X=0;X<this.length;X++){if(!this[X].advancedslider)this[X].advancedslider=new sb(this[X],Sa);T.push(this[X].advancedslider)}return T.length>1?T:T[0]};i.fn.advancedSlider.defaults=
{xmlSource:null,width:500,height:300,skin:"pixel",scrollbarSkin:"scrollbar-1",shadow:true,alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:false,preloadNearbyImages:false,slideStart:0,shuffle:false,slideshow:true,slideshowDelay:5E3,slideshowDirection:"next",slideshowLoop:true,slideshowControls:false,slideshowControlsToggle:true,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:false,slideArrows:true,slideArrowsToggle:true,slideArrowsShowDuration:500,
slideArrowsHideDuration:500,slideButtons:true,slideButtonsNumber:false,slideButtonsToggle:false,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:true,slideButtonsContainerCenter:true,keyboardNavigation:false,keyboardNavigationOnFocusOnly:false,timerAnimation:true,timerAnimationControls:true,timerFadeDuration:500,timerToggle:false,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:0.5,timerStrokeOpacity2:0.7,timerStrokeWidth1:8,timerStrokeWidth2:4,
lightbox:false,lightboxTheme:"pp_default",lightboxOpacity:0.8,lightboxIcon:true,lightboxIconToggle:false,lightboxIconFadeDuration:500,thumbnailLightboxIcon:true,thumbnailLightboxIconToggle:true,htmlDuringTransition:true,overrideTransition:false,initialEffect:true,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1E3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:false,
sliceFade:true,fadePreviousSlide:false,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:false,slideDuration:700,slideEasing:"easeInOutExpo",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:true,swipeTouchDrag:true,swipeGrabCursor:true,swipeThreshold:50,thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,
thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailScrollerToggle:false,thumbnailScrollerResponsive:false,thumbnailScrollerCenter:true,thumbnailScrollDuration:1E3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:false,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaptionPosition:"bottom",thumbnailCaptionToggle:true,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,
thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:false,thumbnailButtons:false,thumbnailArrows:true,thumbnailButtonsToggle:false,thumbnailArrowsToggle:false,thumbnailScrollbarToggle:false,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,
thumbnailSync:true,thumbnailMouseScroll:false,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:false,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:false,thumbnailScrollbarEase:10,captionToggle:false,captionDelay:0,captionSize:70,captionBackgroundOpacity:0.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,
captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",slideProperties:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,xmlLoaded:null,
doSliderLayout:null}})(jQuery);
